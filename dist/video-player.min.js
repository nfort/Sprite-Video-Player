!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){var n=(r(1).Promise,r(5));window.CreateVideoFromSprites=n},function(t,e,r){var n;(function(t,i,o){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   3.2.1
	 */
(function(){"use strict";function s(t){return"function"==typeof t||"object"==typeof t&&null!==t}function a(t){return"function"==typeof t}function u(t){Q=t}function h(t){tt=t}function c(){return function(){t.nextTick(p)}}function l(){return function(){J(p)}}function f(){var t=0,e=new nt(p),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}function m(){var t=new MessageChannel;return t.port1.onmessage=p,function(){t.port2.postMessage(0)}}function d(){return function(){setTimeout(p,1)}}function p(){for(var t=0;t<$;t+=2){var e=st[t],r=st[t+1];e(r),st[t]=void 0,st[t+1]=void 0}$=0}function v(){try{var t=r(6);return J=t.runOnLoop||t.runOnContext,l()}catch(e){return d()}}function g(t,e){var r=this,n=new this.constructor(y);void 0===n[ht]&&D(n);var i=r._state;if(i){var o=arguments[i-1];tt(function(){V(i,n,o,r._result)})}else E(r,n,t,e);return n}function w(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var r=new e(y);return I(r,t),r}function y(){}function F(){return new TypeError("You cannot resolve a promise with itself")}function _(){return new TypeError("A promises callback cannot return that same promise.")}function b(t){try{return t.then}catch(e){return mt.error=e,mt}}function C(t,e,r,n){try{t.call(e,r,n)}catch(i){return i}}function S(t,e,r){tt(function(t){var n=!1,i=C(r,e,function(r){n||(n=!0,e!==r?I(t,r):M(t,r))},function(e){n||(n=!0,A(t,e))},"Settle: "+(t._label||" unknown promise"));!n&&i&&(n=!0,A(t,i))},t)}function x(t,e){e._state===lt?M(t,e._result):e._state===ft?A(t,e._result):E(e,void 0,function(e){I(t,e)},function(e){A(t,e)})}function N(t,e,r){e.constructor===t.constructor&&r===at&&constructor.resolve===ut?x(t,e):r===mt?A(t,mt.error):void 0===r?M(t,e):a(r)?S(t,e,r):M(t,e)}function I(t,e){t===e?A(t,F()):s(e)?N(t,e,b(e)):M(t,e)}function R(t){t._onerror&&t._onerror(t._result),P(t)}function M(t,e){t._state===ct&&(t._result=e,t._state=lt,0!==t._subscribers.length&&tt(P,t))}function A(t,e){t._state===ct&&(t._state=ft,t._result=e,tt(R,t))}function E(t,e,r,n){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+lt]=r,i[o+ft]=n,0===o&&t._state&&tt(P,t)}function P(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n,i,o=t._result,s=0;s<e.length;s+=3)n=e[s],i=e[s+r],n?V(r,n,i,o):i(o);t._subscribers.length=0}}function O(){this.error=null}function T(t,e){try{return t(e)}catch(r){return dt.error=r,dt}}function V(t,e,r,n){var i,o,s,u,h=a(r);if(h){if(i=T(r,n),i===dt?(u=!0,o=i.error,i=null):s=!0,e===i)return void A(e,_())}else i=n,s=!0;e._state!==ct||(h&&s?I(e,i):u?A(e,o):t===lt?M(e,i):t===ft&&A(e,i))}function j(t,e){try{e(function(e){I(t,e)},function(e){A(t,e)})}catch(r){A(t,r)}}function k(){return pt++}function D(t){t[ht]=pt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function L(t){return new Ft(this,t).promise}function W(t){var e=this;return new e(Z(t)?function(r,n){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(r,n)}:function(t,e){e(new TypeError("You must pass an array to race."))})}function B(t){var e=this,r=new e(y);return A(r,t),r}function z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function Y(t){this[ht]=k(),this._result=this._state=void 0,this._subscribers=[],y!==t&&("function"!=typeof t&&z(),this instanceof Y?j(this,t):H())}function K(t,e){this._instanceConstructor=t,this.promise=new t(y),this.promise[ht]||D(this.promise),Z(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?M(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&M(this.promise,this._result))):A(this.promise,U())}function U(){return new Error("Array Methods must be provided an Array")}function q(){var t;if("undefined"!=typeof i)t=i;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var r=t.Promise;r&&"[object Promise]"===Object.prototype.toString.call(r.resolve())&&!r.cast||(t.Promise=yt)}var G;G=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var J,Q,X,Z=G,$=0,tt=function(t,e){st[$]=t,st[$+1]=e,$+=2,2===$&&(Q?Q(p):X())},et="undefined"!=typeof window?window:void 0,rt=et||{},nt=rt.MutationObserver||rt.WebKitMutationObserver,it="undefined"==typeof self&&"undefined"!=typeof t&&"[object process]"==={}.toString.call(t),ot="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,st=new Array(1e3);X=it?c():nt?f():ot?m():void 0===et?v():d();var at=g,ut=w,ht=Math.random().toString(36).substring(16),ct=void 0,lt=1,ft=2,mt=new O,dt=new O,pt=0,vt=L,gt=W,wt=B,yt=Y;Y.all=vt,Y.race=gt,Y.resolve=ut,Y.reject=wt,Y._setScheduler=u,Y._setAsap=h,Y._asap=tt,Y.prototype={constructor:Y,then:at,"catch":function(t){return this.then(null,t)}};var Ft=K;K.prototype._enumerate=function(){for(var t=this.length,e=this._input,r=0;this._state===ct&&r<t;r++)this._eachEntry(e[r],r)},K.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===ut){var i=b(t);if(i===at&&t._state!==ct)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(r===yt){var o=new r(y);N(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new r(function(e){e(t)}),e)}else this._willSettleAt(n(t),e)},K.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===ct&&(this._remaining--,t===ft?A(n,r):this._result[e]=r),0===this._remaining&&M(n,this._result)},K.prototype._willSettleAt=function(t,e){var r=this;E(t,void 0,function(t){r._settledAt(lt,e,t)},function(t){r._settledAt(ft,e,t)})};var _t=q,bt={Promise:yt,polyfill:_t};r(3).amd?(n=function(){return bt}.call(e,r,e,o),!(void 0!==n&&(o.exports=n))):"undefined"!=typeof o&&o.exports?o.exports=bt:"undefined"!=typeof this&&(this.ES6Promise=bt),_t()}).call(this)}).call(e,r(2),function(){return this}(),r(4)(t))},function(t,e){function r(t){if(u===setTimeout)return setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function n(t){if(h===clearTimeout)return clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function i(){m&&l&&(m=!1,l.length?f=l.concat(f):d=-1,f.length&&o())}function o(){if(!m){var t=r(i);m=!0;for(var e=f.length;e;){for(l=f,f=[];++d<e;)l&&l[d].run();d=-1,e=f.length}l=null,m=!1,n(t)}}function s(t,e){this.fun=t,this.array=e}function a(){}var u,h,c=t.exports={};!function(){try{u=setTimeout}catch(t){u=function(){throw new Error("setTimeout is not defined")}}try{h=clearTimeout}catch(t){h=function(){throw new Error("clearTimeout is not defined")}}}();var l,f=[],m=!1,d=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new s(t,e)),1!==f.length||m||r(o)},s.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=a,c.addListener=a,c.once=a,c.off=a,c.removeListener=a,c.removeAllListeners=a,c.emit=a,c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){function r(t){this.videoContainer=document.getElementsByClassName(t.className)[0],this.videoSpriteContainer=void 0,this.videoImageContainer=void 0,this.currentNumberFrame=1,this.countRowFrames=t.countRowFrames,this.currentRowFrames=1,this.countFrames=t.countFrames,this.countMaxFramesOnRow=void 0,this.widthVideoContainer=void 0,this.heightVideoContainer=void 0,this.widthSprite=void 0,this.heightSprite=void 0,this.widthFrame=void 0,this.heightFrame=void 0,this.supportedTransform=void 0,this.videoClass="video-sprite-"+Date.now(),this.countDownloadImages=0,this.currentPlaySprite=0,this.init=function(){this.appendVideoSprite(),this.whenImagesLoaded=this.downloadImages(),this.getComputedSizeFrame(),this.supportedTransform=this.getSupportedProp(["transform","webkitTransform"]),window.onresize=this.getComputedSizeFrame.bind(this)},this.appendVideoSprite=function(){var t=document.createElement("div"),e=document.createElement("img");t.className=this.videoClass,this.videoContainer.appendChild(t),this.videoSpriteContainer=document.getElementsByClassName(this.videoClass)[0],this.videoSpriteContainer.appendChild(e),this.videoImageContainer=this.videoSpriteContainer.getElementsByTagName("img")[0]},this.downloadImages=function(){var e=this;return new Promise(function(r,n){"object"==typeof t.src&&Array.isArray(t.src)&&t.src.forEach(function(t,n){var i=new Image;i.src=t,i.onload=function(){0===n&&e.setImageSprite(0);var i=e.imagesLoaded(n,t);i&&r()}})})},this.imagesLoaded=function(e,r){return this.countDownloadImages=this.countDownloadImages+1,this.countDownloadImages===t.src.length},this.setImageSprite=function(e){this.videoImageContainer.src=t.src[e]},this.getComputedSizeFrame=function(){this.widthSprite=parseInt(t.widthSprite,10),this.heightSprite=parseInt(t.heightSprite,10),this.widthFrame=parseInt(t.widthFrame,10),this.heightFrame=parseInt(t.heightFrame,10),this.widthVideoContainer=this.getWidthNode(t.className),this.heightVideoContainer=this.getHeightResolution(this.widthVideoContainer),this.videoSpriteContainer.style.height=this.heightVideoContainer+"px",this.videoSpriteContainer.style.width=this.widthVideoContainer+"px",this.setFrame(this.getCurrentFrame(),!0),this.countMaxFramesOnRow=this.getCountMaxFramesOnRow()},this.getSupportedProp=function(t){for(var e=document.documentElement,r=0;r<t.length;r++)if(t[r]in e.style)return t[r]},this.getWidthNode=function(t){return document.getElementsByClassName(t)[0].offsetWidth},this.getHeightNode=function(t){return document.getElementsByClassName(t)[0].offsetHeight},this.getWidthResolution=function(t){return t*this.widthFrame/this.heightFrame},this.getHeightResolution=function(t){return t*this.heightFrame/this.widthFrame},this.getCountFrames=function(){return this.widthSprite/this.widthFrame*(this.heightSprite/(this.heightSprite/this.countRowFrames))},this.getCountMaxFramesOnRow=function(){return this.widthSprite/this.widthFrame},this.setFrame=function(t,e){var r,n;if(!(t>this.countFrames||t<1)){e||(this.currentNumberFrame=t);var i=this.currentNumberFrame%this.countMaxFramesOnRow===1&&1!==this.currentNumberFrame;i&&(this.currentPlaySprite=this.currentPlaySprite+1,this.setImageSprite(this.currentPlaySprite)),r=this.currentNumberFrame%this.countMaxFramesOnRow===0?(this.countMaxFramesOnRow-1)*this.widthVideoContainer:(this.currentNumberFrame%this.countMaxFramesOnRow-1)*this.widthVideoContainer,n=this.currentNumberFrame/this.countMaxFramesOnRow*this.countMaxFramesOnRow===this.currentNumberFrame&&this.currentNumberFrame%this.countMaxFramesOnRow===0?(Math.ceil(this.currentNumberFrame/this.countMaxFramesOnRow)-1)*this.heightVideoContainer:(Math.ceil(this.currentNumberFrame/this.countMaxFramesOnRow)-1)*this.heightVideoContainer,n=0,this.videoSpriteContainer.style[this.supportedTransform]="translate(-"+r+"px, -"+n+"px)",this.videoImageContainer.style.width=this.widthVideoContainer*this.countMaxFramesOnRow+"px",this.videoImageContainer.style.height=this.heightVideoContainer*this.countRowFrames+"px",this.videoImageContainer.style.visibility="visible",this.videoImageContainer.style.maxWidth="inherit",e||this.currentNumberFrame!==this.countFrames&&(this.currentNumberFrame=this.currentNumberFrame+1),this.getConsoleData()}},this.setNextFrame=function(){this.setFrame(this.currentNumberFrame,!1)},this.play=function(){var e=this;this.whenImagesLoaded.then(function(){e.setImageSprite(e.currentPlaySprite);var r=function(){e.setNextFrame(),e.getCurrentFrame()===e.getCountFrame()&&(clearInterval(e.videoPlayer),e.currentNumberFrame=1,e.currentPlaySprite=0)};e.videoPlayer=setInterval(r.bind(e),1e3/t.fps)})["catch"](function(){console.log("error")})},this.pause=function(){clearInterval(this.videoPlayer)},this.stop=function(){clearInterval(this.videoPlayer),this.videoPlayer=void 0,this.setFrame(1,!0)},this.getCurrentFrame=function(){return this.currentNumberFrame},this.getCountFrame=function(){return this.countFrames},this.getConsoleData=function(){console.log("widthVideoContainer ",this.widthVideoContainer,"heightVideoContainer ",this.heightVideoContainer,"widthFrame ",this.widthFrame,"heightFrame ",this.heightFrame,"widthSprite ",this.widthSprite,"heightSprite ",this.heightSprite,"currentNumberFrame ",this.currentNumberFrame,"countRowFrames ",this.countRowFrames,"currentRowFrames ",this.currentRowFrames,"countFrames ",this.countFrames,"countMaxFramesOnRow ",this.countMaxFramesOnRow)}}t.exports=r},function(t,e){}]);